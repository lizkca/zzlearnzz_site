{% extends 'flashcards/base.html' %}
{% block content %}
    <article class="media content-section">
        <div class="media-body">
            <div class="article-metadata">
                <a class="mr-2" href="#">{{ post.author }}</a>
                <small class="text-muted">{{ post.created_date|date:"Y-m-d H:i" }}</small>
                {% if post.author == user %}
                    <div>
                        <a class="btn btn-secondary btn-sm mt-1 mb-1" href="{% url 'posts:post_update' post.id %}">编辑</a>
                        <a class="btn btn-danger btn-sm mt-1 mb-1" href="{% url 'posts:post_delete' post.id %}">删除</a>
                    </div>
                {% endif %}
            </div>
            <div class="language-switch mb-3">
                <button class="btn btn-outline-primary btn-sm" onclick="switchLanguage('cn')">中文</button>
                <button class="btn btn-outline-primary btn-sm" onclick="switchLanguage('en')">English</button>
            </div>
            <div id="content-cn">
                <h2 class="article-title">{{ post.title_cn }}</h2>
                <p class="article-content">{{ post.content_cn }}</p>
            </div>
            <div id="content-en" style="display: none;">
                <h2 class="article-title">{{ post.title_en }}</h2>
                <p class="article-content">{{ post.content_en }}</p>
            </div>
        </div>
    </article>

    <script>
        function switchLanguage(lang) {
            if (lang === 'cn') {
                document.getElementById('content-cn').style.display = 'block';
                document.getElementById('content-en').style.display = 'none';
            } else {
                document.getElementById('content-cn').style.display = 'none';
                document.getElementById('content-en').style.display = 'block';
            }
        }
    </script>
{% endblock content %}